(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{73:function(e,t,n){"use strict";n.r(t);var a,r=n(1),o=n.n(r),i=n(3),s=n.n(i),c=n(16),l=n.n(c),d=n(25),u=n(6),h=n(7),p=n(9),j=n(8),g=n(26),b=n.n(g),m=n(11),v=n.n(m),f=n(27),O=n.n(f),C=n(0),x=function(e){return Object(C.jsxs)("table",{className:"table",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsxs)("th",{onClick:e.onSort.bind(null,"job_title"),children:["Job Title ","job_title"===e.sortField?Object(C.jsx)("small",{children:e.sort}):null]}),Object(C.jsxs)("th",{onClick:e.onSort.bind(null,"organization_name"),children:["Organization Name ","organization_name"===e.sortField?Object(C.jsx)("small",{children:e.sort}):null]}),Object(C.jsx)("th",{children:"Location Coordinates"}),Object(C.jsx)("th",{})]})}),Object(C.jsx)("tbody",{children:e.data!==[]&&void 0!==e.data?e.data.map((function(t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:t.job_title}),Object(C.jsx)("td",{children:t.organization_name}),Object(C.jsx)("td",{onClick:function(){return e.onMapComponent(t.location_coordinates[0],t.location_coordinates[1])},children:t.location_coordinates}),Object(C.jsx)("td",{children:Object(C.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){return e.onRemove(t._id)},children:"Delete"})})]},t._id)})):Object(C.jsx)("tr",{})})]})},k=n(28),y=function(e){var t=Object(r.useState)(""),n=Object(k.a)(t,2),a=n[0],o=n[1];return Object(C.jsxs)("div",{className:"input-group mb-3 mt-3",children:[Object(C.jsx)("div",{className:"input-group-prepend",children:Object(C.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){return e.onSearch(a)},children:"Search"})}),Object(C.jsx)("input",{type:"text",className:"form-control",onChange:function(e){o(e.target.value)},value:a})]})},w=n(12),L={position:"absolute",width:"100%",height:"100%"},M=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(e){var a;Object(u.a)(this,n),(a=t.call(this,e)).static={zoom:14,centerAroundCurrentLocation:!1,visible:!0};var r=a.props,o=r.lt,i=r.lg;return a.state={currentLocation:{lat:o,lng:i}},a}return Object(h.a)(n,[{key:"recenterMap",value:function(){var e=this.map,t=this.state.currentLocation,n=this.props.google.maps;if(e){var a=new n.LatLng(t.lat,t.lng);e.panTo(a)}}},{key:"componentDidMount",value:function(){var e=this;this.props.centerAroundCurrentLocation&&navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(){var t=e.props,n=t.lt,a=t.lg;e.setState({currentLocation:{lat:n,lng:a}})})),this.loadMap()}},{key:"componentDidUpdate",value:function(e,t){e.google!==this.props.google&&this.loadMap(),t.currentLocation!==this.state.currentLocation&&this.recenterMap()}},{key:"loadMap",value:function(){if(this.props&&this.props.google){var e=this.props.google.maps,t=this.map,n=s.a.findDOMNode(t),a=this.props,r=a.zoom,o=a.lt,i=a.lg,c=new e.LatLng(o,i),l=Object.assign({},{center:c,zoom:r});this.map=new e.Map(n,l)}}},{key:"renderChildren",value:function(){var e=this,t=this.props.children;if(t)return o.a.Children.map(t,(function(t){if(t)return o.a.cloneElement(t,{map:e.map,google:e.props.google,mapCenter:e.state.currentLocation})}))}},{key:"render",value:function(){var e=Object.assign({},L);return Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{style:e,ref:"map",children:"Loading map..."}),this.renderChildren()]})}}]),n}(o.a.Component),S=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},e.onMarkerClick=function(t,n,a){return e.setState({selectedPlace:t,activeMarker:n,showingInfoWindow:!0})},e.onClose=function(t){e.state.showingInfoWindow&&e.setState({showingInfoWindow:!1,activeMarker:null})},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(C.jsxs)(M,{centerAroundCurrentLocation:!0,google:this.props.google,lt:this.props.x,lg:this.props.y,children:[Object(C.jsx)(w.Marker,{onClick:this.onMarkerClick,name:"current location coordinates"}),Object(C.jsx)(w.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.onClose,children:Object(C.jsx)("div",{children:Object(C.jsx)("h4",{children:this.state.selectedPlace.name})})})]})}}]),n}(r.Component),N=Object(w.GoogleApiWrapper)({apiKey:"AIzaSyCzuHWi32YAxnKV-3LHCinRXishtoedpx8"})(S),_=null,P=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:[],sort:"asc",sortField:"id",currentPage:0,search:""},e.onSort=function(t){var n=e.state.data.concat(),a="asc"===e.state.sort?"desc":"asc",r=v.a.orderBy(n,t,a);e.setState({data:r,sort:a,sortField:t})},e.pageChangeHandler=function(t){var n=t.selected;return e.setState({currentPage:n})},e.searchHandler=function(t){e.setState({search:t,currentPage:0})},e.onRemove=function(t){var n=e.state.data;e.setState({data:n.filter((function(e){return e._id!==t}))})},e.getMapComponent=function(e,t){var n=Object(C.jsx)(N,{x:e,y:t});s.a.render(n,document.getElementById("root"))},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.get("api/jobs");case 3:return n=t.sent,e.setState({data:n.data}),t.abrupt("return",e.state.data);case 8:throw t.prev=8,t.t0=t.catch(0),new Error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))();var t=this.state,n=t.data,a=t.sortField,r=t.sort;this.setState({data:v.a.orderBy(n,a,r)})}},{key:"getFilteredData",value:function(){var e=this.state,t=e.data,n=e.search;return n?!1===t.some((function(e){return e.job_title.toLowerCase().includes(n.toLowerCase())}))?null:t.filter((function(e){return e.job_title.toLowerCase().includes(n.toLowerCase())})):t}},{key:"render",value:function(){var e=this.state,t=e.data,n=e.currentPage,r=e.sort,i=e.sortField,s=[];return _=this.getFilteredData(),0!==t.length&&null!==_&&(void 0!==(s=v.a.chunk(_,10)[n])&&0===s.length&&(s=[]),a=Math.ceil(_.length/10)),Object(C.jsxs)("div",{className:"container",children:[Object(C.jsxs)(o.a.Fragment,{children:[Object(C.jsx)(y,{onSearch:this.searchHandler}),Object(C.jsx)(x,{data:s,onSort:this.onSort,onRemove:this.onRemove,onMapComponent:this.getMapComponent,sort:r,sortField:i})]}),t.length>10?Object(C.jsx)(O.a,{previousLabel:"<",nextLabel:">",breakLabel:"...",breakClassName:"break-me",pageCount:a,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:this.pageChangeHandler,containerClassName:"pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",nextClassName:"page-item",previousLinkClassName:"page-link",nextLinkClassName:"page-link",forcePage:n}):null]})}}]),n}(r.Component),F=P;n(72);s.a.render(Object(C.jsx)(o.a.StrictMode,{children:Object(C.jsx)(F,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.28372944.chunk.js.map